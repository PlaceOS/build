version: "3.7"

services:
  test:
    image: placeos/service-spec-runner:${CRYSTAL_VERSION:-1.4.0}
    volumes:
      - ${PWD}/bin:/app/bin
      - ${PWD}/coverage:/app/coverage
      - ${PWD}/lib:/app/lib
      - ${PWD}/shard.lock:/app/shard.lock
      - ${PWD}/shard.yml:/app/shard.yml
      - ${PWD}/spec:/app/spec
      - ${PWD}/src:/app/src
    environment:
      GITHUB_ACTION: ${GITHUB_ACTION:-}
      SG_ENV: ${SG_ENV:-development}
      TZ: $TZ
